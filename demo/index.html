<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<meta name="format-detection" content="telephone=no" />
<meta name="viewport"
	content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width" />
<title>Hello World</title>
<script type="text/javascript" src="cordova.js"></script>
<script type="text/javascript" src="jquery-1.9.js"></script>
<style type="text/css">
body {
	width: 100%;
	height: 100%;
	margin: 0;
	padding: 0;
	overflow: hidden;
	background-color: gray;
	color: white;
}

div#fullpage {
	width: 100%;
	height: 100%;
	margin: 0;
	padding: 0;
	border: 0px solid red;
	text-align: center;
	vertical-align: middle;
}

button {
	font-size: 18px;
}
</style>
</head>
<body onload="onLoad()">
	<div id="fullpage">
		<h1>Demo for QQ Plugin</h1>

        <button id='share'>Share to QQ</button>
	</div>
</body>
<script>
    function onLoad() {
        if(( /(ipad|iphone|ipod|android|windows phone)/i.test(navigator.userAgent) )) {
            document.addEventListener('deviceready', initApp, false);
        } else {
            initApp();
        }
    }

    function initApp() {
		if (typeof QQ === 'undefined' ) { alert( 'QQ plugin not ready' ); return; }

        document.addEventListener('QQEvent', function(e) {
            var errCode = e.errCode;
            var errStr = e.errStr;
            switch(errCode) {
            case QQ.RESULT.SUCCESS: // complete
                break;
            case QQ.RESULT.CANCELLED: // user cancelled
                break;
            default: // other error
                alert( errCode + ", " + errStr );
            }
        });

        QQ.setOptions({
            appId: '1104702980',
            appName: 'Demo for QQPlugin',
            appKey: 'Mz3XS2MPwjM8Zcvi'
        });
    }
    
    $('button#share').click(function(e){
        QQ.share('这是QQ分享的内容',
                 '标题',
                 'http://img3.cache.netease.com/photo/0005/2013-03-07/8PBKS8G400BV0005.jpg',
                 'https://github.com/floatinghotpot/cordova-plugin-qq',
            function(data){
                console.log('share okay');
            }, function(data){
                alert('share fail:' + data);
            });
    });
</script>
</html>
